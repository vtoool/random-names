:root{
  --card:rgba(255,255,255,0.8);
  --ink:#000000; --muted:#555555; --line:rgba(0,0,0,0.15);
  --accent:#3B82F6; --brand:#F59E0B; --action:#6366F1;
  --btn-border:rgba(0,0,0,0.1); --segment:#f5f5f5; --bar:#e0e0e0;

  --bg:linear-gradient(135deg,#f5f7fa,#e4e7eb);

  --r-xxl:32px; --r-xl:20px; --r-lg:14px; --r-md:12px; --r-pill:9999px;
  --space-1:4px; --space-2:8px; --space-3:12px; --space-4:16px; --space-5:24px;

  --shadow-card:0 4px 24px rgba(0,0,0,.08);
  --shadow-float:0 1px 1px rgba(0,0,0,.08),0 4px 10px rgba(0,0,0,.1);
  --ring-focus:0 0 0 2px rgba(99,102,241,.35);
}

@media (prefers-color-scheme: dark){
  :root{
    --card:rgba(45,45,53,0.8);
    --ink:#ffffff; --muted:rgba(255,255,255,0.7); --line:rgba(255,255,255,0.2);
    --btn-border:rgba(255,255,255,0.2); --segment:#34343d; --bar:#34343d;

    --shadow-card:0 1px 2px rgba(0,0,0,.25),0 8px 20px rgba(0,0,0,.3);
    --shadow-float:0 1px 1px rgba(0,0,0,.2),0 4px 10px rgba(0,0,0,.3);
    --bg:linear-gradient(135deg,#1e1b4b,#0f172a);
  }
}
.card{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:var(--r-xxl);
  box-shadow:var(--shadow-card);
  color:var(--ink);
  padding:var(--space-4);
  padding-bottom:var(--space-5);
  backdrop-filter:blur(12px);
  overflow:hidden;
}
.btn-primary{
  background:linear-gradient(135deg,var(--action),var(--accent)); color:#fff;
  border-radius:var(--r-lg); padding:10px 14px;
  border:1px solid var(--btn-border);
  font-weight:500;
}
.btn-primary:focus{outline:none; box-shadow:var(--ring-focus);}
.segment{
  background:var(--segment); border:1px solid var(--line);
  border-radius:var(--r-pill); padding:4px;
}
.segment .item{
  border-radius:var(--r-md); padding:6px 10px; color:var(--muted);
}
.segment .item.active{
  background:var(--card); color:var(--ink);
  border:1px solid var(--line); box-shadow:var(--shadow-float);
}
.bar{ background:var(--bar); border-radius:6px; }
.bar--active{ background:var(--accent); }
.delta--up{ color:var(--accent); font-weight:600; }

body{
  margin:0;
  font-family:'Inter', sans-serif;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  min-height:100vh;
  color:var(--ink);
  background:var(--bg);
  padding:var(--space-5);
}

.card{
  text-align:center;
  width:90%;
  max-width:600px;
  position:relative;
}

h1{
  margin-bottom:var(--space-4);
  font-weight:600;
  font-size:28px;
}

.controls{
  display:flex;
  align-items:center;
  justify-content:center;
  gap:var(--space-3);
  flex-wrap:wrap;
  margin-bottom:var(--space-4);
}

.toggle{
  display:inline-flex;
  align-items:center;
  gap:var(--space-2);
  padding:6px 12px;
  border-radius:var(--r-pill);
  border:1px solid var(--line);
  background:var(--card);
  box-shadow:var(--shadow-float);
  cursor:pointer;
  font-size:14px;
}

.toggle input{
  width:18px;
  height:18px;
  margin:0;
  accent-color:var(--action);
}

.toggle span{
  font-weight:500;
}

.controls select,
.controls button{
  padding:10px 14px;
  border-radius:var(--r-md);
  border:1px solid var(--line);
  background:var(--card);
  font-size:16px;
  color:var(--ink);
  box-shadow:var(--shadow-float);
}

.btn-primary{
  cursor:pointer;
  transition:box-shadow .15s ease-out, transform .15s ease-out;
}

.btn-primary:hover{
  box-shadow:0 1px 3px rgba(17,24,39,.1), 0 6px 14px rgba(17,24,39,.15);
  transform:translateY(-1px);
}

.btn-primary:active{
  box-shadow:0 1px 2px rgba(17,24,39,.1), 0 3px 6px rgba(17,24,39,.15);
  transform:translateY(0);
}

.controls select:focus,
.controls button:focus,
.kayak-form input:focus,
.tab:focus{
  outline:none;
  box-shadow:var(--ring-focus);
}

#name-container{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:var(--space-3);
}

.pill-row{
  display:grid;
  gap:var(--space-3);
  align-items:center;
  justify-content:center;
}

.pill-row.double{
  grid-template-columns:repeat(2, auto);
}

.pill-row.single{
  grid-template-columns:auto;
}

.pill{
  padding:6px 12px;
  border-radius:var(--r-pill);
  background:var(--card);
  border:1px solid var(--line);
  box-shadow:var(--shadow-float);
  cursor:pointer;
  user-select:none;
  transition:box-shadow .15s ease-out, transform .15s ease-out;
  white-space:nowrap;
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
  position:relative;
  overflow:visible;
}

  .pill:hover{
    box-shadow:0 0 0 2px rgba(99,102,241,.5), 0 2px 2px rgba(0,0,0,.08), 0 6px 16px rgba(0,0,0,.12);
    transform:translateY(-1px);
  }

.pill:active{
  box-shadow:0 1px 1px rgba(0,0,0,.08), 0 3px 8px rgba(0,0,0,.12);
  transform:translateY(0);
}

.pill:focus{outline:none; box-shadow:var(--ring-focus);}


.pill.copied{
  background:var(--line);
  color:var(--muted);
  border-color:var(--line);
}

.pill.copied-anim::after{
  content:"";
  position:absolute;
  top:-2px;
  left:-2px;
  right:-2px;
  bottom:-2px;
    border:2px solid rgba(99,102,241,0.5);
  border-radius:inherit;
  pointer-events:none;
  animation:pill-ring .3s ease-out forwards;
}

@keyframes pill-ring{
  from{opacity:0.6; transform:scale(1);}
  to{opacity:0; transform:scale(1.15);}
}

#q-hint{
  position:absolute;
  top:8px;
  left:8px;
  display:flex;
  align-items:center;
  gap:8px;
  font-size:16px;
  color:var(--muted);
}

#q-hint .key{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  min-width:28px;
  height:28px;
  padding:4px 8px;
  border:1px solid var(--line);
  border-radius:6px;
  background:var(--segment);
  box-shadow:0 2px 0 var(--line);
  font-weight:600;
  cursor:pointer;
  transition:box-shadow .15s ease-out, transform .15s ease-out;
}

#q-hint .key:hover{
  transform:translateY(-1px);
  box-shadow:0 3px 0 var(--line);
}

#q-hint .key.pressed{
  box-shadow:0 1px 0 var(--line) inset;
  transform:translateY(2px);
}

#q-hint .key.animate{
  animation:q-press .1s cubic-bezier(.4,0,.6,1);
}

@keyframes q-press{
  0%{transform:scale(.9);}
  50%{transform:scale(1.1);}
  100%{transform:scale(1);}
}

#kayak-results{margin-top:var(--space-4);}
#kayak-results table{border-collapse:collapse;margin:0 auto;}
#kayak-results th,#kayak-results td{border:1px solid var(--line);}
#kayak-results th{padding:4px 8px;}
#kayak-results td{padding:0;}
#kayak-results td a{
  display:flex;
  align-items:center;
  justify-content:center;
  width:100%;
  height:100%;
  padding:8px;
  font-size:20px;
  text-decoration:none;
  color:var(--action);
}
#kayak-results td a:hover{text-decoration:underline;}
#kayak-results tr.hover-row th,
#kayak-results tr.hover-row td,
#kayak-results th.hover-col,
#kayak-results td.hover-col{background:rgba(99,102,241,0.15);}

.tabs{
  display:flex;
  justify-content:center;
  margin-bottom:var(--space-4);
  gap:var(--space-3);
  border-bottom:1px solid var(--line);
}

.tab{
  background:none;
  border:none;
  padding:var(--space-3) var(--space-4);
  cursor:pointer;
  font-size:16px;
  color:var(--muted);
  transition:color .15s ease-out;
}

.tab:hover{color:var(--ink);}

.tab.active{
  color:var(--action);
  border-bottom:2px solid var(--action);
  font-weight:600;
}

.tab-content{display:none;}
.tab-content.active{display:block;}

.kayak-form{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:var(--space-3);
  margin-bottom:var(--space-4);
}

.kayak-form input{
  padding:10px 14px;
  border-radius:var(--r-md);
  border:1px solid var(--line);
  background:var(--card);
  color:var(--ink);
  width:100%;
  max-width:400px;
}

.error{color:var(--brand);}

#history-dialog{
  border:1px solid var(--line);
  border-radius:var(--r-lg);
  padding:var(--space-4);
  background:var(--card);
  color:var(--ink);
}

#history-dialog::backdrop{
  background:rgba(0,0,0,0.3);
}

#history-list{
  list-style:none;
  padding:0;
  margin:0 0 var(--space-4);
  text-align:left;
}

.history-actions{
  display:flex;
  justify-content:center;
  gap:var(--space-3);
}

#ticker{
  margin-top:var(--space-4);
  display:flex;
  justify-content:center;
}

  .ticker-pill{
    padding:4px 8px;
    font-size:12px;
    opacity:0.1;
    box-shadow:none;
    cursor:default;
    pointer-events:none;
    background:transparent;
    border:1px solid transparent;
  }

